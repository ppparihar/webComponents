<!doctype html>
<!-- Copyright (c) 2015 Google Inc. All rights reserved. -->
<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>Google Map demo</title>  
<link rel="import" href="../bower_components/polymer/polymer.html">
  <link rel="import" href="../google-map.html">
  <link rel="import" href="../google-map-marker.html">
  <link rel="import" href="../google-map-poly.html">
  <link rel="import" href="../google-map-directions.html">

  <link rel="import" href="hotel-item.html">
<style>
    body {
      margin: 0;
      height: 100vh;
    }
    #controlsToggle {
      position: absolute;
      left: 10%;
      bottom: 10%;
    }
  </style>
  
  
</head>
<body class="fullbleed">
  <dom-module id="hotel-map">

<template >  
   <google-map latitude="36.12904" longitude="-115.173668" min-zoom="11" max-zoom="15"
              language="en" api-key="[[apiKey]]">

                 <template is="dom-repeat" items="{{Markers}}" as="marker">
                        <google-map-marker
                            latitude="[[marker.latitude]]"
                            longitude="[[marker.longitude]]"
                            click-events="true" animation="DROP">                                                    
                            <hotel-item item$="[[marker]]" ></hotel-item>
                        </google-map-marker>
                    </template>
   
  </google-map>

 <!--  <google-map-directions start-address="Oakland" end-address="Mountain View"
                         language="en" api-key="[[apiKey]]"></google-map-directions> -->
</template>


<script>
    Polymer({
      is: 'hotel-map',
      properties: {      
       Markers: {
            type: Array,
            value: [
              {latitude:'36.12904',longitude:'-115.173668',category:'Hotel',name:'Hotel 1'},
              {latitude:'36.10944',longitude:'-115.177864',category:'Hotel',name:'Hotel 2'},
              {latitude:'36.09215',longitude:'-115.173004',category:'Hotel',name:'Hotel 3'}
            ],
            notify: true
          },
          apiKey:{
            type:String,
            value:'AIzaSyB6k-oW6Pc7pevOOZywfU4Ak-qhN---IAI',
            notify: true
          }       
        },     
      listeners:{
                    'hotel-click': '_onHotelClick'                    
                },
      _onHotelClick :function(e){ console.log("hotel-click handled",e.detail); }
    });
  </script>
</dom-module>

<hotel-map></hotel-map>
</body>
</html>
